{"ast":null,"code":"var _jsxFileName = \"/home/ismailyh/Desktop/project/typing-test/src/components/Header.tsx\",\n    _s = $RefreshSig$();\n\nimport { resetTest } from \"helpers/resetTest\";\nimport { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setTime, setType, setWordList, timerSet } from \"store/actions\";\nimport \"stylesheets/Header.scss\";\nimport \"stylesheets/AnimatedTheme.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const options = {\n  time: [15, 30, 45, 60, 120],\n  type: [\"easy\", \"medium\", \"hard\"]\n};\nexport default function Header() {\n  _s();\n\n  const {\n    preferences: {\n      timeLimit,\n      theme,\n      type\n    },\n    time: {\n      timerId\n    }\n  } = useSelector(state => state); //const [animationProps, setAnimationProps] = useState<AnimationProps | null>();\n\n  const dispatch = useDispatch();\n  const rendercount = useRef(1); // used to choose the value of the theme , type , time and then settig the world list {which will call the word reducer in the case SET_WORDLIST and then changes the state}\n\n  useEffect(() => {\n    const theme = localStorage.getItem(\"theme\") || \"default\";\n    const type = localStorage.getItem(\"type\") || \"easy\";\n    const time = parseInt(localStorage.getItem(\"time\") || \"60\", 10);\n    import(`wordlists/${type}.json`).then(words => {\n      dispatch(setWordList(words.default));\n    });\n    dispatch(timerSet(time));\n    dispatch(setType(type));\n    dispatch(setTime(time));\n  }, [dispatch]); // happens every time we choose another value of time \n\n  useEffect(() => {\n    if (timeLimit !== 0) {\n      var _document$querySelect, _document$querySelect2;\n\n      (_document$querySelect = document.querySelector(\".time\")) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.childNodes.forEach(el => {\n        if (el instanceof HTMLButtonElement) el.classList.remove(\"selected\");\n      });\n      (_document$querySelect2 = document.querySelector(`button[value=\"${timeLimit}\"]`)) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.classList.add(\"selected\");\n      dispatch(setTime(timeLimit));\n      localStorage.setItem(\"time\", `${timeLimit}`);\n      resetTest();\n    }\n  }, [dispatch, timeLimit]);\n  useEffect(() => {\n    rendercount.current = rendercount.current + 1;\n  }); // Set Type difficulty\n\n  useEffect(() => {\n    if (type !== \"\") {\n      var _document$querySelect3, _document$querySelect4;\n\n      (_document$querySelect3 = document.querySelector(\".type\")) === null || _document$querySelect3 === void 0 ? void 0 : _document$querySelect3.childNodes.forEach(el => {\n        if (el instanceof HTMLButtonElement) el.classList.remove(\"selected\");\n      });\n      (_document$querySelect4 = document.querySelector(`button[value=\"${type}\"]`)) === null || _document$querySelect4 === void 0 ? void 0 : _document$querySelect4.classList.add(\"selected\");\n      dispatch(setType(type));\n      localStorage.setItem(\"type\", type);\n      resetTest();\n    }\n  }, [dispatch, type]);\n\n  const handleOptions = _ref => {\n    let {\n      target,\n      clientX,\n      clientY\n    } = _ref;\n\n    if (target instanceof HTMLButtonElement && target.dataset.option) {\n      if (target.value === theme || +target.value === timeLimit) {\n        target.blur();\n        return;\n      }\n\n      switch (target.dataset.option) {\n        case \"time\":\n          dispatch(setTime(+target.value));\n          break;\n\n        case \"type\":\n          dispatch(setType(target.value));\n          break;\n      }\n\n      target.blur();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: timerId ? \"hidden\" : undefined,\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \".\",\n      className: \"brand\",\n      children: \"typing-test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), console.log(`header rendered ${rendercount.current}`), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons\",\n      children: Object.entries(options).map(_ref2 => {\n        let [option, choices] = _ref2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: option,\n          children: [option, \":\", choices.map(choice => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mini\",\n            \"data-option\": option,\n            value: choice,\n            onClick: e => handleOptions(e),\n            children: choice\n          }, choice, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 29\n          }, this))]\n        }, option, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Header, \"c1LyPvs3KY+3YF04s6jhX7wIg24=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/home/ismailyh/Desktop/project/typing-test/src/components/Header.tsx"],"names":["resetTest","useEffect","useRef","useDispatch","useSelector","setTime","setType","setWordList","timerSet","options","time","type","Header","preferences","timeLimit","theme","timerId","state","dispatch","rendercount","localStorage","getItem","parseInt","then","words","default","document","querySelector","childNodes","forEach","el","HTMLButtonElement","classList","remove","add","setItem","current","handleOptions","target","clientX","clientY","dataset","option","value","blur","undefined","console","log","Object","entries","map","choices","choice","e"],"mappings":"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","sourcesContent":["import { resetTest } from \"helpers/resetTest\";\nimport { useEffect, useState , useRef} from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    setTheme,\n    setTime,\n    setType,\n    setWordList,\n    timerSet,\n} from \"store/actions\";\nimport { State } from \"store/reducer\";\nimport \"stylesheets/Header.scss\";\nimport \"stylesheets/AnimatedTheme.scss\";\n\nexport interface Options {\n    time: number[];\n    type: string[];\n}\n\ninterface AnimationProps {\n    top: number;\n    left: number;\n    theme: string;\n}\n\nexport const options: Options = {\n    time: [15, 30, 45, 60, 120],\n    type: [\"easy\", \"medium\", \"hard\"],\n};\n\nexport default function Header() {\n    const {\n        preferences: { timeLimit, theme, type },\n        time: { timerId },\n    } = useSelector((state: State) => state);\n    //const [animationProps, setAnimationProps] = useState<AnimationProps | null>();\n    const dispatch = useDispatch();\n    const rendercount = useRef(1);\n\n    // used to choose the value of the theme , type , time and then settig the world list {which will call the word reducer in the case SET_WORDLIST and then changes the state}\n\n    useEffect(() => {\n        const theme = localStorage.getItem(\"theme\") || \"default\";\n        const type = localStorage.getItem(\"type\") || \"easy\";\n        const time = parseInt(localStorage.getItem(\"time\") || \"60\", 10);\n        import(`wordlists/${type}.json`).then((words) => {\n            dispatch(setWordList(words.default));\n        });\n        dispatch(timerSet(time));\n        dispatch(setType(type));\n        dispatch(setTime(time));\n    }, [dispatch]);\n\n\n    // happens every time we choose another value of time \n    useEffect(() => {\n        if (timeLimit !== 0) {\n            document.querySelector(\".time\")?.childNodes.forEach((el) => {\n                if (el instanceof HTMLButtonElement)\n                    el.classList.remove(\"selected\");\n            });\n            document\n                .querySelector(`button[value=\"${timeLimit}\"]`)\n                ?.classList.add(\"selected\");\n            dispatch(setTime(timeLimit));\n            localStorage.setItem(\"time\", `${timeLimit}`);\n            resetTest();\n        }\n    }, [dispatch, timeLimit]);\n\n    useEffect(() => {\n        rendercount.current = rendercount.current + 1;\n    })\n\n    // Set Type difficulty\n    useEffect(() => {\n        if (type !== \"\") {\n            document.querySelector(\".type\")?.childNodes.forEach((el) => {\n                if (el instanceof HTMLButtonElement)\n                    el.classList.remove(\"selected\");\n            });\n            document\n                .querySelector(`button[value=\"${type}\"]`)\n                ?.classList.add(\"selected\");\n            dispatch(setType(type));\n            localStorage.setItem(\"type\", type);\n            resetTest();\n        }\n    }, [dispatch, type]);\n\n    const handleOptions = ({ target, clientX, clientY }: React.MouseEvent) => {\n        if (target instanceof HTMLButtonElement && target.dataset.option) {\n            if (target.value === theme || +target.value === timeLimit) {\n                target.blur();\n                return;\n            }\n            switch (target.dataset.option) {\n                case \"time\":\n                    dispatch(setTime(+target.value));\n                    break;\n                case \"type\":\n                    dispatch(setType(target.value));\n                    break;\n            }\n            target.blur();\n        }\n    };\n\n    return ( \n        <header className={timerId ? \"hidden\" : undefined}>\n            <a href=\".\" className=\"brand\">\n                typing-test\n            </a>\n            {console.log(`header rendered ${rendercount.current}`)}\n            <div className=\"buttons\">\n                {Object.entries(options).map(([option, choices]) => (\n                    <div key={option} className={option}>\n                        {option}:\n                        {choices.map((choice: string) => (\n                            <button\n                                className=\"mini\"\n                                key={choice}\n                                data-option={option}\n                                value={choice}\n                                onClick={(e) => handleOptions(e)}>\n                                {choice}\n                            </button>\n                        ))}\n                    </div>\n                ))}\n            </div>\n\n        </header>\n    );\n}"]},"metadata":{},"sourceType":"module"}